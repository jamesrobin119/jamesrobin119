<!DOCTYPE html><html><head><meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://code.jquery.com https://unpkg.com https://d3js.org https://threejs.org https://cdn.plot.ly https://stackpath.bootstrapcdn.com https://maps.googleapis.com https://cdn.tailwindcss.com https://ajax.googleapis.com https://kit.fontawesome.com https://cdn.datatables.net https://maxcdn.bootstrapcdn.com https://code.highcharts.com https://tako-static-assets-production.s3.amazonaws.com https://www.youtube.com https://fonts.googleapis.com https://fonts.gstatic.com https://pfst.cf2.poecdn.net https://puc.poecdn.net https://i.imgur.com https://wikimedia.org https://*.icons8.com https://*.giphy.com https://picsum.photos https://images.unsplash.com; frame-src 'self' https://www.youtube.com https://trytako.com; child-src 'self'; manifest-src 'self'; worker-src 'self'; upgrade-insecure-requests; block-all-mixed-content;"><meta http-equiv="x-dns-prefetch-control" content="off"><meta name="x-poe-datastore-behavior" content="disabled"><meta name="x-poe-allow-downloads" content="true"><script src="https://puc.poecdn.net/standard.3ef2c256959faf5a756d.js"></script>
    <meta charset="utf-8">
    <title>Poe</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
  <script src="https://puc.poecdn.net/disableWebRTC.9710cebe07429a9e8e06.js"></script><script src="https://puc.poecdn.net/tw.b9024aecac666455e183.js"></script><script src="https://puc.poecdn.net/deps.faccd16000d314dc16d5.js"></script><script src="https://puc.poecdn.net/exports.b0f0f482cdeb5302b0b9.js"></script><script src="https://puc.poecdn.net/renderer.75c73ae6b4235f62945a.js"></script><script>Object.defineProperty(exports, "__esModule", {value: true}); function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }var _react = require('react'); var _react2 = _interopRequireDefault(_react);
var _lucidereact = require('lucide-react');

function AgricultureEducationAI() {
  const [chatInput, setChatInput] = _react.useState.call(void 0, '');
  const [chatMessages, setChatMessages] = _react.useState.call(void 0, [
    { 
      type: 'bot', 
      content: '您好！我是AI农业教育智能体，我可以帮助您：\n\n🌱 作物识别与分析\n🐛 病虫害诊断\n📚 农业知识问答\n🔬 实验指导\n\n请告诉我您需要什么帮助，或直接上传图片进行识别！',
      timestamp: new Date().toLocaleTimeString()
    }
  ]);
  const [isTyping, setIsTyping] = _react.useState.call(void 0, false);

  const quickActions = [
    { id: 'crop-identify', label: '作物识别', icon: _lucidereact.Leaf, color: 'green' },
    { id: 'disease-detect', label: '病虫害诊断', icon: _lucidereact.Bug, color: 'red' },
    { id: 'experiment-guide', label: '实验指导', icon: _lucidereact.Microscope, color: 'blue' },
    { id: 'knowledge-base', label: '知识库', icon: _lucidereact.BookOpen, color: 'purple' }
  ];

  const commonQuestions = [
    "如何识别水稻的生长阶段？",
    "小麦常见病害有哪些？",
    "土壤pH值对作物有什么影响？",
    "如何进行种子萌发实验？",
    "玉米施肥的最佳时期是什么时候？"
  ];

  const handleSendMessage = (message = chatInput) => {
    if (message.trim()) {
      const userMessage = { 
        type: 'user', 
        content: message,
        timestamp: new Date().toLocaleTimeString()
      };
      
      setChatMessages(prev => [...prev, userMessage]);
      setChatInput('');
      setIsTyping(true);

      // 模拟AI回复
      setTimeout(() => {
        const botResponse = generateBotResponse(message);
        setChatMessages(prev => [...prev, botResponse]);
        setIsTyping(false);
      }, 1500);
    }
  };

  const generateBotResponse = (userMessage) => {
    const message = userMessage.toLowerCase();
    let response = '';
    let hasMedia = false;
    let mediaType = '';

    if (message.includes('识别') || message.includes('作物') || message.includes('植物')) {
      response = `我可以帮您进行作物识别！请上传清晰的作物照片，我会分析：

🌱 **作物种类识别**
📏 **生长阶段判断** 
💚 **健康状态评估**
📋 **管理建议**

您可以点击下方的上传按钮或直接拖拽图片到聊天框中。`;
      hasMedia = true;
      mediaType = 'crop-identification';
    } 
    else if (message.includes('病虫害') || message.includes('病害') || message.includes('虫害')) {
      response = `我来帮您诊断病虫害问题！请上传受影响部位的清晰照片：

🔍 **病害类型识别**
📊 **严重程度评估**
💊 **防治方案推荐**
🛡️ **预防措施建议**

请确保照片清晰显示病症特征。`;
      hasMedia = true;
      mediaType = 'disease-detection';
    }
    else if (message.includes('实验') || message.includes('指导')) {
      response = `我可以为您提供详细的农业实验指导！

🔬 **当前可指导的实验：**
• 种子萌发条件实验
• 植物光合作用测定
• 土壤pH值检测
• 植物营养缺素诊断
• 作物抗逆性测试

请告诉我您要进行哪个实验，我会提供详细步骤和注意事项。`;
      hasMedia = true;
      mediaType = 'experiment-guide';
    }
    else if (message.includes('水稻') || message.includes('生长阶段')) {
      response = `水稻生长阶段识别要点：

🌱 **苗期** (0-4周)
- 特征：1-3片真叶，株高10-20cm
- 管理：保温保湿，适量施肥

🌿 **分蘖期** (4-8周) 
- 特征：开始分蘖，株高20-40cm
- 管理：浅水勤灌，增施氮肥

🌾 **拔节期** (8-12周)
- 特征：茎秆伸长，株高快速增长
- 管理：深水管理，追施穗肥

🌾 **抽穗期** (12-16周)
- 特征：稻穗抽出，开花授粉
- 管理：保持水层，防治病虫害

您有具体的水稻图片需要我帮忙识别吗？`;
    }
    else if (message.includes('小麦') || message.includes('病害')) {
      response = `小麦常见病害诊断：

🦠 **条纹花叶病**
- 症状：叶片出现黄绿相间条纹
- 防治：选用抗病品种，控制媒介昆虫

🍄 **白粉病**
- 症状：叶片表面白色粉状物
- 防治：喷施三唑酮等杀菌剂

🔴 **锈病**
- 症状：叶片出现锈色斑点
- 防治：及时喷药，清除病残体

🕳️ **纹枯病**
- 症状：茎基部水渍状斑点
- 防治：改善通风，合理密植

如需具体诊断，请上传病害照片！`;
    }
    else {
      response = `我理解您的问题。作为农业教育专家，我可以为您提供：

📖 **农业基础知识**：作物栽培、土壤管理、植物营养等
🔬 **实验技术指导**：各类农业实验的详细步骤
🌱 **作物识别服务**：上传图片识别作物种类和状态  
🐛 **病虫害诊断**：分析病症并提供防治建议

请告诉我您想了解的具体内容，或上传相关图片让我帮您分析！`;
    }

    return {
      type: 'bot',
      content: response,
      timestamp: new Date().toLocaleTimeString(),
      hasMedia,
      mediaType
    };
  };

  const handleQuickAction = (actionId) => {
    let message = '';
    switch (actionId) {
      case 'crop-identify':
        message = '我想进行作物识别';
        break;
      case 'disease-detect':
        message = '我需要病虫害诊断';
        break;
      case 'experiment-guide':
        message = '我需要实验指导';
        break;
      case 'knowledge-base':
        message = '我想查询农业知识';
        break;
    }
    handleSendMessage(message);
  };

  const renderMediaComponent = (mediaType) => {
    switch (mediaType) {
      case 'crop-identification':
        return (
          _react2.default.createElement('div', { className: "mt-4 p-4 bg-green-50 border border-green-200 rounded-lg"     ,}
            , _react2.default.createElement('div', { className: "flex items-center mb-3"  ,}
              , _react2.default.createElement(_lucidereact.Camera, { className: "h-5 w-5 text-green-600 mr-2"   ,} )
              , _react2.default.createElement('span', { className: "font-semibold text-green-800" ,}, "作物识别功能")
            )
            , _react2.default.createElement('div', { className: "border-2 border-dashed border-green-300 rounded-lg p-6 text-center"     ,}
              , _react2.default.createElement(_lucidereact.Upload, { className: "h-8 w-8 text-green-400 mx-auto mb-2"    ,} )
              , _react2.default.createElement('p', { className: "text-sm text-green-600 mb-2"  ,}, "点击上传或拖拽图片到此处")
              , _react2.default.createElement('button', { className: "bg-green-600 text-white px-4 py-2 rounded text-sm hover:bg-green-700"      ,}, "选择图片"

              )
            )
          )
        );
      
      case 'disease-detection':
        return (
          _react2.default.createElement('div', { className: "mt-4 p-4 bg-red-50 border border-red-200 rounded-lg"     ,}
            , _react2.default.createElement('div', { className: "flex items-center mb-3"  ,}
              , _react2.default.createElement(_lucidereact.Bug, { className: "h-5 w-5 text-red-600 mr-2"   ,} )
              , _react2.default.createElement('span', { className: "font-semibold text-red-800" ,}, "病虫害诊断")
            )
            , _react2.default.createElement('div', { className: "border-2 border-dashed border-red-300 rounded-lg p-6 text-center"     ,}
              , _react2.default.createElement(_lucidereact.Image, { className: "h-8 w-8 text-red-400 mx-auto mb-2"    ,} )
              , _react2.default.createElement('p', { className: "text-sm text-red-600 mb-2"  ,}, "上传病害部位照片")
              , _react2.default.createElement('button', { className: "bg-red-600 text-white px-4 py-2 rounded text-sm hover:bg-red-700"      ,}, "选择图片"

              )
            )
          )
        );

      case 'experiment-guide':
        return (
          _react2.default.createElement('div', { className: "mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg"     ,}
            , _react2.default.createElement('div', { className: "flex items-center mb-3"  ,}
              , _react2.default.createElement(_lucidereact.Microscope, { className: "h-5 w-5 text-blue-600 mr-2"   ,} )
              , _react2.default.createElement('span', { className: "font-semibold text-blue-800" ,}, "实验指导")
            )
            , _react2.default.createElement('div', { className: "grid grid-cols-2 gap-2"  ,}
              , _react2.default.createElement('button', { className: "p-2 bg-white border border-blue-200 rounded text-sm hover:bg-blue-50"      ,}, "种子萌发实验"

              )
              , _react2.default.createElement('button', { className: "p-2 bg-white border border-blue-200 rounded text-sm hover:bg-blue-50"      ,}, "土壤pH检测"

              )
              , _react2.default.createElement('button', { className: "p-2 bg-white border border-blue-200 rounded text-sm hover:bg-blue-50"      ,}, "光合作用测定"

              )
              , _react2.default.createElement('button', { className: "p-2 bg-white border border-blue-200 rounded text-sm hover:bg-blue-50"      ,}, "营养缺素诊断"

              )
            )
          )
        );

      default:
        return null;
    }
  };

  return (
    _react2.default.createElement('div', { className: "flex flex-col h-screen bg-gray-50"   ,}
      /* 头部 */
      , _react2.default.createElement('div', { className: "bg-white border-b px-6 py-4"   ,}
        , _react2.default.createElement('div', { className: "flex items-center" ,}
          , _react2.default.createElement('div', { className: "w-10 h-10 bg-green-600 rounded-full flex items-center justify-center mr-3"       ,}
            , _react2.default.createElement(_lucidereact.Leaf, { className: "h-6 w-6 text-white"  ,} )
          )
          , _react2.default.createElement('div', null
            , _react2.default.createElement('h1', { className: "text-xl font-bold text-gray-900"  ,}, "AI农业教育智能体")
            , _react2.default.createElement('p', { className: "text-sm text-gray-600" ,}, "作物识别 · 病虫害诊断 · 知识问答 · 实验指导"      )
          )
        )
      )

      /* 聊天区域 */
      , _react2.default.createElement('div', { className: "flex-1 flex" ,}
        , _react2.default.createElement('div', { className: "flex-1 flex flex-col"  ,}
          /* 消息列表 */
          , _react2.default.createElement('div', { className: "flex-1 overflow-y-auto p-6 space-y-4"   ,}
            , chatMessages.map((message, index) => (
              _react2.default.createElement('div', { key: index, className: `flex ${message.type === 'user' ? 'justify-end' : 'justify-start'}`,}
                , _react2.default.createElement('div', { className: `max-w-lg ${message.type === 'user' ? 'bg-blue-600 text-white' : 'bg-white border'} rounded-lg p-4 shadow-sm`,}
                  , _react2.default.createElement('div', { className: "whitespace-pre-wrap",}, message.content)
                  , message.hasMedia && renderMediaComponent(message.mediaType)
                  , _react2.default.createElement('div', { className: `text-xs mt-2 ${message.type === 'user' ? 'text-blue-100' : 'text-gray-500'}`,}
                    , message.timestamp
                  )
                )
              )
            ))

            , isTyping && (
              _react2.default.createElement('div', { className: "flex justify-start" ,}
                , _react2.default.createElement('div', { className: "bg-white border rounded-lg p-4 shadow-sm"    ,}
                  , _react2.default.createElement('div', { className: "flex items-center space-x-1"  ,}
                    , _react2.default.createElement('div', { className: "flex space-x-1" ,}
                      , _react2.default.createElement('div', { className: "w-2 h-2 bg-gray-400 rounded-full animate-pulse"    ,})
                      , _react2.default.createElement('div', { className: "w-2 h-2 bg-gray-400 rounded-full animate-pulse"    , style: {animationDelay: '0.2s'},})
                      , _react2.default.createElement('div', { className: "w-2 h-2 bg-gray-400 rounded-full animate-pulse"    , style: {animationDelay: '0.4s'},})
                    )
                    , _react2.default.createElement('span', { className: "text-sm text-gray-500 ml-2"  ,}, "智能体正在思考...")
                  )
                )
              )
            )
          )

          /* 快捷操作按钮 */
          , _react2.default.createElement('div', { className: "px-6 py-4 bg-white border-t"   ,}
            , _react2.default.createElement('div', { className: "flex flex-wrap gap-2 mb-4"   ,}
              , quickActions.map((action) => {
                const Icon = action.icon;
                return (
                  _react2.default.createElement('button', {
                    key: action.id,
                    onClick: () => handleQuickAction(action.id),
                    className: `flex items-center px-3 py-2 rounded-lg text-sm border transition-colors hover:bg-${action.color}-50 hover:border-${action.color}-200`,}

                    , _react2.default.createElement(Icon, { className: `h-4 w-4 mr-2 text-${action.color}-600`,} )
                    , action.label
                  )
                );
              })
            )

            /* 输入框 */
            , _react2.default.createElement('div', { className: "flex space-x-2" ,}
              , _react2.default.createElement('input', {
                type: "text",
                value: chatInput,
                onChange: (e) => setChatInput(e.target.value),
                placeholder: "请输入您的问题，或选择上方功能...",
                className: "flex-1 p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"      ,
                onKeyPress: (e) => e.key === 'Enter' && handleSendMessage(),}
              )
              , _react2.default.createElement('button', {
                onClick: () => handleSendMessage(),
                disabled: !chatInput.trim(),
                className: "bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"       ,}

                , _react2.default.createElement(_lucidereact.Send, { className: "h-5 w-5" ,} )
              )
            )
          )
        )

        /* 侧边栏 - 常见问题 */
        , _react2.default.createElement('div', { className: "w-80 bg-white border-l p-6"   ,}
          , _react2.default.createElement('h3', { className: "font-semibold text-gray-900 mb-4"  ,}, "💡 常见问题" )
          , _react2.default.createElement('div', { className: "space-y-2",}
            , commonQuestions.map((question, index) => (
              _react2.default.createElement('button', {
                key: index,
                onClick: () => handleSendMessage(question),
                className: "w-full text-left p-3 text-sm bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors"       ,}

                , question
              )
            ))
          )

          , _react2.default.createElement('div', { className: "mt-8",}
            , _react2.default.createElement('h3', { className: "font-semibold text-gray-900 mb-4"  ,}, "📊 功能统计" )
            , _react2.default.createElement('div', { className: "space-y-3",}
              , _react2.default.createElement('div', { className: "flex justify-between text-sm"  ,}
                , _react2.default.createElement('span', null, "作物识别")
                , _react2.default.createElement('span', { className: "text-green-600 font-semibold" ,}, "156次")
              )
              , _react2.default.createElement('div', { className: "flex justify-between text-sm"  ,}
                , _react2.default.createElement('span', null, "病虫害诊断")
                , _react2.default.createElement('span', { className: "text-red-600 font-semibold" ,}, "89次")
              )
              , _react2.default.createElement('div', { className: "flex justify-between text-sm"  ,}
                , _react2.default.createElement('span', null, "知识问答")
                , _react2.default.createElement('span', { className: "text-blue-600 font-semibold" ,}, "234次")
              )
              , _react2.default.createElement('div', { className: "flex justify-between text-sm"  ,}
                , _react2.default.createElement('span', null, "实验指导")
                , _react2.default.createElement('span', { className: "text-purple-600 font-semibold" ,}, "67次")
              )
            )
          )
        )
      )
    )
  );
}

exports. default = AgricultureEducationAI;
</script></head>
  <body>
  

<div id="preview-app"></div></body></html>